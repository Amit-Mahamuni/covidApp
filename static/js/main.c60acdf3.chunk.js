(this.webpackJsonpcovidapp=this.webpackJsonpcovidapp||[]).push([[0],{52:function(e,t,c){},53:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(17),i=c.n(s),l=(c(52),c(53),c(86)),r=c(82),o=c(9),j=c(85),d=c(87),b=c(84),m=c(46),O=c(88),u=c(24),h=c.n(u),x=c(26),f=c(25),p=c(78),v=c(83),g=c(79),_=c(80),y=c(81),N=c(1);var S=function(e){var t=Object(n.useState)({fee:"All",availbility:"All",age:"All",vaccine:"All",block_name:"All"}),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(),l=Object(o.a)(i,2),r=l[0],d=l[1],u=Object(n.useState)(),h=Object(o.a)(u,2),S=h[0],k=h[1],w=Object(n.useState)(!1),C=Object(o.a)(w,2),I=C[0],A=C[1],L=Object(n.useState)({center:"",session:""}),T=Object(o.a)(L,2),B=T[0],D=T[1];Object(n.useEffect)((function(){!function(){console.log("render");var t,c,n,s=e.centerList.centers;e.setrchstate(!1),"All"!=a.fee&&(s=s.filter((function(e){return e.fee_type.toLowerCase().includes(a.fee.toLowerCase())})));"All"!=a.block_name&&(s=s.filter((function(e){return e.block_name==a.block_name})));"All"!=a.age&&(s=s.filter((function(e){return 0!==(t=e.sessions.filter((function(e){return e.min_age_limit===a.age}))).length&&(e.sessions=t,!0)})));"All"!=a.vaccine&&(s=s.filter((function(e){return 0!==(c=e.sessions.filter((function(e){return e.vaccine.toLowerCase().includes(a.vaccine.toLowerCase())}))).length&&(e.sessions=c,!0)})));"All"!=a.availbility&&(s=s.filter((function(e){return 0!==(n=e.sessions.filter((function(e){return"Available"===a.availbility?e.available_capacity>0:0==e.available_capacity}))).length&&(e.sessions=n,!0)})));"All"==a.fee&&"All"==a.age&&"All"==a.vaccine&&"All"==a.availbility&&"All"==a.block_name?d():d({centers:s})}(),A(!1)}),[a]),Object(n.useEffect)((function(){console.log(B)}),[B]);var F=[],J={fee:[],availbility:["Available","Book"],age:[],vaccine:[],block_name:[]};function E(e,t){"block_name"==e.split(" ")[0]&&(k(t),console.log(e+" = "+t)),s(Object(f.a)(Object(f.a)({},a),{},Object(x.a)({},e,t)))}function z(){return Object.keys(J).map((function(e){return"block_name"!=e?Object(N.jsxs)("div",{className:"mr-2 my-2",children:[Object(N.jsxs)(p.a,{children:[Object(N.jsx)(O.a,{size:"sm",variant:"outline-secondary",className:"All"==a[e]?"active":"inactive",onClick:function(){return E(e,"All")},children:"All"}),J[e].map((function(t){return Object(N.jsx)(O.a,{size:"sm",variant:"outline-secondary",className:a[e]==t?"active":"inactive",onClick:function(){return E(e,t)},children:t},e+"_"+t)}))]}),Object(N.jsx)("small",{class:"text-muted form-text",children:e})]},e):Object(N.jsxs)(b.a.Group,{controlId:"exampleForm.ControlSelect1",className:"mr-2 my-2",children:[Object(N.jsxs)(b.a.Control,{as:"select",value:S,onChange:function(e){return E("block_name",e.target.value)},children:[Object(N.jsx)("option",{children:"All"}),J[e].map((function(e){return Object(N.jsx)("option",{children:e})}))]}),Object(N.jsx)("small",{class:"text-muted form-text",children:e})]},e)}))}function P(){return B.center&&B.session?Object(N.jsxs)(v.a,{show:I,onHide:function(){return A(!1)},centered:!0,children:[Object(N.jsx)(v.a.Header,{closeButton:!0,children:Object(N.jsx)("h5",{children:"Center Details"})}),Object(N.jsxs)(v.a.Body,{children:[Object(N.jsx)("div",{children:Object(N.jsxs)(g.a,{children:[Object(N.jsxs)(m.a,{children:[Object(N.jsxs)("span",{children:[Object(N.jsxs)("span",{className:"centerTitle",children:[B.center.name," "]}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"centerSubTitle",children:B.center.block_name+", "+B.center.district_name+", "+B.center.state_name+","+B.center.pincode})]}),Object(N.jsx)("a",{href:"https://www.google.co.in/maps/search/"+B.center.name,target:"blank",className:"btn btn-outline-secondary searchBtn",children:"Get Direction"})]}),Object(N.jsx)(m.a,{children:Object(N.jsxs)(j.a,{variant:"flush",className:"modelList",children:[Object(N.jsx)(j.a.Item,{children:B.session.vaccine}),Object(N.jsxs)(j.a.Item,{children:["Fee : ",Object(N.jsx)(_.a,{variant:"info",children:B.center.fee_type})," "]}),Object(N.jsx)(j.a.Item,{children:0!=B.session.available_capacity?Object(N.jsx)(_.a,{pill:!0,variant:"info",className:"border",children:"Available : "+B.session.available_capacity}):Object(N.jsx)(_.a,{pill:!0,variant:"danger",className:"border",children:"Booked"})}),Object(N.jsx)(j.a.Item,{children:"Age "+B.session.min_age_limit+"+"})]})})]})}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{children:"Slot Details"}),Object(N.jsxs)(g.a,{children:[Object(N.jsxs)(m.a,{children:[Object(N.jsx)("h6",{children:"Time"}),Object(N.jsx)(j.a,{className:"modeltimeSlotList",children:B.session.slots.map((function(e){return Object(N.jsx)(j.a.Item,{children:e})}))})]}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)("h6",{children:"Vaccin "}),Object(N.jsxs)(j.a,{className:"list-group-numbered",children:[Object(N.jsxs)(j.a.Item,{className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)("span",{children:"1st Dose :"}),Object(N.jsx)("span",{children:B.session.available_capacity_dose1})]}),Object(N.jsxs)(j.a.Item,{className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)("span",{children:"2nd Dose :"}),Object(N.jsx)("span",{children:B.session.available_capacity_dose2})]})]})]})]})]})]})]}):Object(N.jsxs)(v.a,{show:I,onHide:function(){return A(!1)},children:[Object(N.jsx)(v.a.Header,{closeButton:!0,children:Object(N.jsx)(v.a.Title,{children:"Modal heading"})}),Object(N.jsx)(v.a.Body,{children:"Woohoo, you're reading this text in a modal!"})]})}function G(e){"L"==e?document.getElementById("wrapper").scrollLeft-=100:document.getElementById("wrapper").scrollLeft+=100}e.centerList.centers.map((function(e){J.block_name.includes(e.block_name)||J.block_name.push(e.block_name),J.fee.includes(e.fee_type)||J.fee.push(e.fee_type),e.sessions.map((function(e){F.includes(e.date)||F.push(e.date),J.vaccine.includes(e.vaccine)||J.vaccine.push(e.vaccine),J.age.includes(e.min_age_limit)||J.age.push(e.min_age_limit)}))}));var H=function(t,c){console.log(t+"="+c);var n=e.centerList.centers.find((function(e){return t===e.center_id})),a=n.sessions.find((function(e){return c===e.session_id}));D(Object(f.a)(Object(f.a)({},B),{},{center:n,session:a})),console.log(n),console.log(a),A(!0)};return Object(N.jsxs)("div",{children:[Object(N.jsx)(P,{}),Object(N.jsxs)("div",{className:"filterSec",children:[Object(N.jsx)("h5",{children:"Filter"}),Object(N.jsx)("div",{className:"filterOptSec",children:Object(N.jsx)(z,{})})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{children:Object(N.jsxs)(g.a,{children:[Object(N.jsx)(m.a,{className:"d-flex my-1 align-items-center",sm:8,children:Object.keys(J).find((function(e){return"All"!=a[e]}))?Object(N.jsxs)("div",{className:"filterOptSec",children:[Object(N.jsx)("h5",{className:"filterTitleTxt",children:"Result For :"}),Object.keys(J).map((function(e){if("All"!=a[e])return Object(N.jsx)(O.a,{size:"sm",variant:"outline-dark",className:"filterTag mx-1",onClick:function(){return function(e){console.log(e)}(e)},children:"age"==e?"Age "+a[e]+"+":a[e]},e+"_Tag")}))]}):Object(N.jsx)("h5",{className:"filterTitleTxt",children:e.centerList.centers.length+" - Result"})}),Object(N.jsx)(m.a,{className:"d-flex flex-row-reverse my-1 align-items-center",sm:4,children:Object(N.jsxs)(p.a,{className:"ml-2","aria-label":"First group",children:[Object(N.jsx)(O.a,{variant:"outline-secondary",size:"sm",onClick:function(){return G("L")},children:"Prev"}),Object(N.jsx)(O.a,{variant:"outline-secondary",size:"sm",onClick:function(){return G("R")},children:"Next"})]})})]})}),Object(N.jsx)("div",{className:"wrapper",id:"wrapper",children:Object(N.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"sticky-col first-col",children:"Center"}),F.map((function(e){return Object(N.jsx)("th",{children:(t=e,new Date(t.split("-").reverse().join("/")).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric"}))},e);var t}))]})}),Object(N.jsx)("tbody",{children:r&&!e.srchstate?r.centers.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{className:"sticky-col first-col",children:[Object(N.jsxs)("span",{className:"centerTitle",children:[e.name," "]}),"Paid"==e.fee_type?Object(N.jsx)(_.a,{variant:"info",children:e.fee_type}):Object(N.jsx)("span",{})," ",Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"centerSubTitle",children:e.block_name+", "+e.district_name+", "+e.state_name+","+e.pincode}),e.vaccine_fees?e.vaccine_fees.map((function(e){return Object(N.jsxs)("span",{className:"feetext",children:[Object(N.jsx)("br",{}),Object(N.jsxs)("span",{children:[e.vaccine+" : \u20b9"+e.fee," "]}),Object(N.jsx)("br",{})]})})):Object(N.jsx)("span",{})]}),F.map((function(t){var c;return c=e.sessions.find((function(e){return t===e.date})),Object(N.jsx)("td",{className:"text-center ",children:void 0!==c?Object(N.jsxs)("span",{children:[0!=c.available_capacity?Object(N.jsx)(_.a,{pill:!0,variant:"info",className:"border",children:"Available : "+c.available_capacity}):Object(N.jsx)(_.a,{pill:!0,variant:"danger",className:"border",children:"Booked"}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{className:"centerTitle ",children:[" ",c.vaccine]}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"centerSubTitle ",children:"Age "+c.min_age_limit+"+"}),Object(N.jsx)("br",{}),Object(N.jsx)(O.a,{variant:"outline-secondary",size:"sm",className:"detailBtn",onClick:function(){return H(e.center_id,c.session_id)},children:"Detail"})]}):Object(N.jsx)("span",{children:Object(N.jsx)(_.a,{pill:!0,variant:"light",className:"border",children:"N/A"})})})}))]})})):e.centerList?e.centerList.centers.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{className:"sticky-col first-col",children:[Object(N.jsxs)("span",{className:"centerTitle",children:[e.name," "]}),"Paid"==e.fee_type?Object(N.jsx)(_.a,{variant:"info",children:e.fee_type}):Object(N.jsx)("span",{})," ",Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"centerSubTitle",children:e.block_name+", "+e.district_name+", "+e.state_name+","+e.pincode}),e.vaccine_fees?e.vaccine_fees.map((function(e){return Object(N.jsxs)("span",{className:"feetext",children:[Object(N.jsx)("br",{}),Object(N.jsxs)("span",{children:[e.vaccine+" : \u20b9"+e.fee," "]}),Object(N.jsx)("br",{})]})})):Object(N.jsx)("span",{})]}),F.map((function(t){var c;return c=e.sessions.find((function(e){return t===e.date})),Object(N.jsx)("td",{className:"text-center ",children:void 0!==c?Object(N.jsxs)("span",{children:[0!=c.available_capacity?Object(N.jsx)(_.a,{pill:!0,variant:"info",children:"Available : "+c.available_capacity}):Object(N.jsx)(_.a,{pill:!0,variant:"danger",children:"Booked"}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{className:"centerTitle ",children:[" ",c.vaccine]}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"centerSubTitle ",children:"Age "+c.min_age_limit+"+"}),Object(N.jsx)("br",{}),Object(N.jsx)(O.a,{variant:"outline-secondary",size:"sm",className:"detailBtn",onClick:function(){return H(e.center_id,c.session_id)},children:"Detail"})]}):Object(N.jsx)("span",{children:Object(N.jsx)(_.a,{pill:!0,variant:"light",className:"border",children:"N/A"})})})}))]})})):Object(N.jsx)("p",{})})]})})]})};var k=function(){var e=Object(n.useState)({id:"",name:""}),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),l=i[0],r=i[1],u=Object(n.useState)({id:"",name:""}),x=Object(o.a)(u,2),f=x[0],p=x[1],v=Object(n.useState)({}),g=Object(o.a)(v,2),_=g[0],y=g[1],k=Object(n.useState)({}),w=Object(o.a)(k,2),C=w[0],I=w[1],A=Object(n.useState)({states:[],show:!1}),L=Object(o.a)(A,2),T=L[0],B=L[1],D=Object(n.useState)({dist:[],show:!1}),F=Object(o.a)(D,2),J=F[0],E=F[1],z=Object(n.useState)(),P=Object(o.a)(z,2),G=P[0],H=P[1];function R(e){h.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+e+"&date="+(new Date).toISOString().slice(0,10).split("-").reverse().join("-")).then((function(e){H(e.data),localStorage.setItem("centerlist",JSON.stringify(e.data)),r(!0)}))}function M(){return Object(N.jsx)(j.a,{children:T.show?T.states.map((function(e){return Object(N.jsx)(j.a.Item,{action:!0,onClick:function(){return t=e.state_id,c=e.state_name,a({name:c,id:t}),B({}),localStorage.setItem("state",JSON.stringify({name:c,id:t})),localStorage.setItem("district",null),p({name:"",id:""}),void h.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t).then((function(e){I(e.data),console.log(e.data)}));var t,c},children:e.state_name})})):Object(N.jsx)("span",{})})}function V(){return Object(N.jsx)(j.a,{children:J.show?J.dist.map((function(e){return Object(N.jsx)(j.a.Item,{action:!0,onClick:function(){return t=e.district_id,c=e.district_name,p({name:c,id:t}),localStorage.setItem("district",JSON.stringify({name:c,id:t})),void E({});var t,c},children:e.district_name})})):Object(N.jsx)("span",{})})}return Object(n.useEffect)((function(){h.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){y(e.data),console.log(_.states)})),function(){null!=localStorage.getItem("state")&&""!=localStorage.getItem("state")&&void 0!=localStorage.getItem("state")&&(a(JSON.parse(localStorage.getItem("state"))),h.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+JSON.parse(localStorage.getItem("state")).id).then((function(e){I(e.data),console.log(e.data)})));null!=localStorage.getItem("district")&&""!=localStorage.getItem("district")&&void 0!=localStorage.getItem("district")&&p(JSON.parse(localStorage.getItem("district")));null!=localStorage.getItem("centerlist")&&""!=localStorage.getItem("centerlist")&&void 0!=localStorage.getItem("centerlist")&&H(JSON.parse(localStorage.getItem("centerlist")))}()}),[]),Object(N.jsx)(d.a,{className:"bg-white shadow",children:Object(N.jsxs)(d.a.Body,{children:[Object(N.jsx)(d.a.Title,{children:Object(N.jsx)("h5",{children:"Search vaccination center near you."})}),Object(N.jsxs)(b.a.Row,{children:[Object(N.jsx)(m.a,{md:4,sm:12,children:Object(N.jsxs)(b.a.Group,{children:[Object(N.jsx)(b.a.Control,{onChange:function(e){a({name:e.target.value}),_?B({states:_.states.filter((function(t){return t.state_name.toLowerCase().includes(e.target.value.toLowerCase())})),show:!0}):console.log("empty")},value:c.name,type:"text",placeholder:"State",id:"inpState",name:"inpState",autocomplete:"off"}),Object(N.jsx)(b.a.Text,{className:"text-muted",children:"Enter State Name"}),Object(N.jsx)(M,{})]})}),Object(N.jsx)(m.a,{md:4,sm:12,children:Object(N.jsxs)(b.a.Group,{children:[Object(N.jsx)(b.a.Control,{onChange:function(e){p({name:e.target.value}),_?E({dist:C.districts.filter((function(t){return t.district_name.toLowerCase().includes(e.target.value.toLowerCase())})),show:!0}):console.log("empty")},value:f.name,type:"text",placeholder:"City",id:"inpCity",name:"inpCity",autocomplete:"off"}),Object(N.jsx)(b.a.Text,{className:"text-muted",children:"Enter District Name"}),Object(N.jsx)(V,{})]})}),Object(N.jsx)(m.a,{md:4,sm:12,children:Object(N.jsx)(O.a,{className:"searchBtn",onClick:function(){return R(f.id)},variant:"outline-dark",children:"Search"})})]}),Object(N.jsx)("hr",{}),G?Object(N.jsx)(S,{centerList:G,srchstate:l,setrchstate:r}):Object(N.jsx)("p",{children:"Select Sate and Dist"})]})})};var w=function(){return Object(N.jsxs)("div",{className:"mb-5",children:[Object(N.jsx)(l.a,{bg:"light",className:"bg-white shadow mb-3",children:Object(N.jsx)(r.a,{children:Object(N.jsx)(l.a.Brand,{href:"#",children:"COVID"})})}),Object(N.jsx)(r.a,{children:Object(N.jsx)(k,{})})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(w,{})}),document.getElementById("root")),C()}},[[76,1,2]]]);
//# sourceMappingURL=main.c60acdf3.chunk.js.map